<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>人生加法：专注一事，成就非凡</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="人生加法：专注一事，成就非凡">
<meta property="og:url" content="https://owen-chenao.github.io/index.html">
<meta property="og:site_name" content="人生加法：专注一事，成就非凡">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Owen.Chen">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="人生加法：专注一事，成就非凡" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">人生加法：专注一事，成就非凡</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://owen-chenao.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-在Win11上离线安装-NET-Framework-3-5的方法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/13/%E5%9C%A8Win11%E4%B8%8A%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85-NET-Framework-3-5%E7%9A%84%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2025-06-13T16:05:13.000Z" itemprop="datePublished">2025-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/13/%E5%9C%A8Win11%E4%B8%8A%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85-NET-Framework-3-5%E7%9A%84%E6%96%B9%E6%B3%95/">在Win11上离线安装 .NET Framework 3.5的方法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>随 Windows 11提供的是.NET Framework 4.8，该环境可以运行任何 .NET Framework 4.x 应用。<br>而.NET Framework 3.5 支持为 .NET Framework 2.0 到 3.5 生成的应用，需要自行安装。</p>
<p>当Win11的应用软件需要.net framework3.5的运行环境时，就会提示“你的电脑上的应用需要使用以下Windows功能:.NET Framework 3.5(<br>包括.NET 2.0和3.0)。</p>
<p>在线安装耗时很长，下面是离线安装.NET Framework 3.5的方法：</p>
<p>1、下载离线安装包，Win 10安装net 3.5的方法都是先下载net 3.5的cab包，然后用dsim命令来安装。</p>
<p>2、关掉所有[杀毒软件]及电脑管理管家等如360安全卫士</p>
<p>3、将下载的安装包放到c盘windows目录下（根据需要放置）</p>
<p><img src="https://owen-chenao.github.io/images/71ed747af752a1bf9fa15b6faac881aa.png" alt="6d10cfdc3c944de5b062d11f880507ec.png"></p>
<p>4、用命令行安装：<br>以管理员身份打开cmd,输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:netfx3 /Source:C:\Windows\sxs</span><br></pre></td></tr></table></figure>

<p>等待进度到100%，显示操作成功完成： <img src="https://owen-chenao.github.io/images/77866c7536d6b7ad15a68b9f50ac6676.png" alt="df868a68afad4c21846446c7d3b185f7.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">在Win11上离线安装 .NET Framework 3.5的方法</span><br><span class="line"></span><br><span class="line">随 Windows 11提供的是.NET Framework 4.8，该环境可以运行任何 .NET Framework 4.x 应用。</span><br><span class="line">而.NET Framework 3.5 支持为 .NET Framework 2.0 到 3.5 生成的应用，需要自行安装。</span><br><span class="line">当Win11的应用软件需要.net framework3.5的运行环境时，就会提示“你的电脑上的应用需要使用以下Windows功能:.NET Framework 3.5(包括.NET 2.0和3.0)。</span><br><span class="line">在线安装耗时很长，下面是离线安装.NET Framework 3.5的方法：</span><br><span class="line"></span><br><span class="line">1、下载离线安装包，Win 10安装net 3.5的方法都是先下载net 3.5的cab包，然后用dsim命令来安装。</span><br><span class="line">2、关掉所有杀毒软件及电脑管理管家等如360安全卫士</span><br><span class="line">3、将下载的安装包放到c盘windows目录下（根据需要放置）</span><br><span class="line">/4、用命令行安装：</span><br><span class="line">以管理员身份打开cmd,输入以下命令：</span><br><span class="line">dism.exe /online /enable-feature /featurename:netfx3 /Source:C:\Windows\sxs</span><br><span class="line"></span><br><span class="line">等待进度到100%，显示操作成功完成即可。</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/13/%E5%9C%A8Win11%E4%B8%8A%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85-NET-Framework-3-5%E7%9A%84%E6%96%B9%E6%B3%95/" data-id="cmbujeffq0004ju9i83cpb05q" data-title="在Win11上离线安装 .NET Framework 3.5的方法" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Windows安装SSH-Win32-OpenSSH" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/13/Windows%E5%AE%89%E8%A3%85SSH-Win32-OpenSSH/" class="article-date">
  <time class="dt-published" datetime="2025-06-13T09:40:03.000Z" itemprop="datePublished">2025-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/13/Windows%E5%AE%89%E8%A3%85SSH-Win32-OpenSSH/">Windows安装SSH-Win32-OpenSSH</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ssh-config配置文件"><a href="#ssh-config配置文件" class="headerlink" title="ssh config配置文件"></a>ssh config配置文件</h2><p>C:\ProgramData\ssh<br>C:\ProgramData\ssh\sshd_config<br>%programdata%\ssh\sshd_config</p>
<h2 id="配置-sshd-config"><a href="#配置-sshd-config" class="headerlink" title="配置 sshd_config"></a>配置 <code>sshd_config</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Port 22</span><br><span class="line">ListenAddress 0.0.0.0</span><br><span class="line">SyslogFacility LOCAL0</span><br><span class="line">LogLevel DEBUG</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line">PermitEmptyPasswords no</span><br><span class="line">PasswordAuthentication no</span><br><span class="line">AuthorizedKeysFile	C:/Users/Administrator/.ssh/authorized_keys</span><br><span class="line">IgnoreUserKnownHosts no</span><br><span class="line">IgnoreRhosts yes</span><br><span class="line">Subsystem	sftp	sftp-server.exe</span><br><span class="line"></span><br><span class="line">PermitRootLogin yes</span><br><span class="line">GSSAPIAuthentication no</span><br><span class="line">PubkeyAcceptedKeyTypes=+ssh-rsa</span><br></pre></td></tr></table></figure>

<h2 id="安装-GIT-配置-authorized-keys"><a href="#安装-GIT-配置-authorized-keys" class="headerlink" title="安装 GIT 配置 authorized_keys"></a>安装 <code>GIT</code> 配置 <code>authorized_keys</code></h2><blockquote>
<p>C:&#x2F;Users&#x2F;Administrator&#x2F;.ssh&#x2F;authorized_keys</p>
</blockquote>
<p><strong>ssh-keygen需要配置为ISA</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -m PEM</span><br><span class="line">ssh-keygen -t rsa -m PEM</span><br><span class="line"></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/c/Users/Administrator/.ssh/id_rsa):</span><br><span class="line">Enter passphrase for &quot;/c/Users/Administrator/.ssh/id_rsa&quot; (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line"></span><br><span class="line">Your identification has been saved in /c/Users/Administrator/.ssh/id_rsa</span><br><span class="line">Your public key has been saved in /c/Users/Administrator/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/13/Windows%E5%AE%89%E8%A3%85SSH-Win32-OpenSSH/" data-id="cmbujeffn0003ju9i00gr3tl2" data-title="Windows安装SSH-Win32-OpenSSH" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/13/hello-world/" class="article-date">
  <time class="dt-published" datetime="2025-06-13T08:19:33.965Z" itemprop="datePublished">2025-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/13/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more<br>info. If you get any problems when using Hexo, you can find the answer<br>in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me<br>on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/13/hello-world/" data-id="cmart1d6i0003skchajes8r8c" data-title="Hello World" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-OPCDA协议对接梳理" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/12/OPCDA%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%8E%A5%E6%A2%B3%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2025-06-12T21:02:49.000Z" itemprop="datePublished">2025-06-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/12/OPCDA%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%8E%A5%E6%A2%B3%E7%90%86/">OPCDA协议对接梳理</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/12/OPCDA%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%8E%A5%E6%A2%B3%E7%90%86/" data-id="cmbujeffl0001ju9if5kv07n8" data-title="OPCDA协议对接梳理" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ARMBoxLinuxBox盒子工控机" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/12/ARMBoxLinuxBox%E7%9B%92%E5%AD%90%E5%B7%A5%E6%8E%A7%E6%9C%BA/" class="article-date">
  <time class="dt-published" datetime="2025-06-12T20:43:19.000Z" itemprop="datePublished">2025-06-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/12/ARMBoxLinuxBox%E7%9B%92%E5%AD%90%E5%B7%A5%E6%8E%A7%E6%9C%BA/">ARMBoxLinuxBox盒子工控机</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="LinuxBox配置清单"><a href="#LinuxBox配置清单" class="headerlink" title="LinuxBox配置清单"></a>LinuxBox配置清单</h2><table>
<thead>
<tr>
<th>序号</th>
<th>事项</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>安装chromium-browser  ，命令<code>sudo apt-get install chromium-browser -y</code></td>
</tr>
<tr>
<td>2</td>
<td>禁用ChromeBrower数据收集功能<br/>1.打开 Chromium 浏览器。<br/>2.点击右上角的菜单按钮，选择“设置”。<br/>3.在“隐私和安全”部分，找到“帮助改进 Chrome 的功能和性能”选项并关闭</td>
</tr>
<tr>
<td>3</td>
<td>配置ChromeBrower开机自启动和全屏(<code>/home/ubuntu/.config/autostart</code>)</td>
</tr>
<tr>
<td>4</td>
<td>配置WiFi连接</td>
</tr>
<tr>
<td>5</td>
<td>桌面禁用锁屏和黑屏配置</td>
</tr>
<tr>
<td>6</td>
<td>配置Ubuntu时区 <br/><code>sudo timedatectl set-timezone Asia/Shanghai</code><br/><code>sudo cat /etc/timezone</code></td>
</tr>
<tr>
<td>7</td>
<td>Chrome disable browser metrics<br/><code>chmod -R 000 /root/snap/chromium/common/chromium/BrowserMetrics</code> <br><code>d--------- 2 root root  16K  6月 12 22:00  BrowserMetrics</code></td>
</tr>
</tbody></table>
<h1 id="LinuxBox盒子图片"><a href="#LinuxBox盒子图片" class="headerlink" title="LinuxBox盒子图片"></a>LinuxBox盒子图片</h1><p><img src="https://owen-chenao.github.io/images/LinuxBox.png"></p>
<h1 id="操作系统版本-lsb-release-a"><a href="#操作系统版本-lsb-release-a" class="headerlink" title="操作系统版本 lsb_release -a"></a>操作系统版本 <code>lsb_release -a</code></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 24.10</span><br><span class="line">Release:	24.10</span><br><span class="line">Codename:	oracular</span><br></pre></td></tr></table></figure>

<h1 id="连接地址-192-168-0-148"><a href="#连接地址-192-168-0-148" class="headerlink" title="连接地址 192.168.0.148"></a>连接地址 <code>192.168.0.148</code></h1><table>
<thead>
<tr>
<th>序号</th>
<th>账号</th>
<th>密码</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ubuntu</td>
<td>ubuntu</td>
</tr>
<tr>
<td>2</td>
<td>root</td>
<td>As12345678</td>
</tr>
</tbody></table>
<h1 id="软件安装-Chrome-中文"><a href="#软件安装-Chrome-中文" class="headerlink" title="软件安装(Chrome&#x2F;中文)"></a>软件安装(Chrome&#x2F;中文)</h1><ul>
<li><p>chrome安装(root安装)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snap install chromium</span><br></pre></td></tr></table></figure>

</li>
<li><p>浏览器字体安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br><span class="line">sudo apt install language-pack-zh-hans -y</span><br><span class="line"></span><br><span class="line">sudo locale-gen zh_CN.UTF-8   # 生成中文 locale</span><br><span class="line">sudo update-locale LANG=zh_CN.UTF-8  # 设置系统默认语言</span><br><span class="line"></span><br><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">sudo apt install fonts-wqy-zenhei fonts-wqy-microhei fonts-noto-cjk -y</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Chrome开机自启动"><a href="#Chrome开机自启动" class="headerlink" title="Chrome开机自启动"></a>Chrome开机自启动</h1><h3 id="创建桌面启动文件"><a href="#创建桌面启动文件" class="headerlink" title="创建桌面启动文件"></a>创建桌面启动文件</h3><p>这种方法适合需要自定义启动参数的场景：</p>
<ol>
<li>打开终端，运行以下命令创建启动文件：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.config/autostart</span><br><span class="line">cd ~/.config/autostart</span><br><span class="line">nano chromium.desktop</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在文件中输入以下内容：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Type=Application</span><br><span class="line">Exec=/usr/bin/chromium-browser --start-maximized --disable-infobars --kiosk &quot;http://192.168.0.190/hmi/dsfq&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>--start-maximized</code>：启动时最大化窗口。</li>
<li><code>--kiosk</code>：全屏模式。</li>
<li><code>&quot;http://www.example.com&quot;</code>：替换为你希望打开的网页地址。</li>
<li>配置URL地址：<code>&quot;http://192.168.0.190/hmi/dsfq&quot;</code></li>
</ul>
<h1 id="WiFi连接Linux盒子"><a href="#WiFi连接Linux盒子" class="headerlink" title="WiFi连接Linux盒子"></a>WiFi连接Linux盒子</h1><table>
<thead>
<tr>
<th>序号</th>
<th>方式</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>你用命令nmtui 然后选择第二个</td>
</tr>
<tr>
<td>2</td>
<td>(如果没有这个nmtui命令)root目录下有一个wifi开头的脚本,执行这个脚本连接WIFI</td>
</tr>
</tbody></table>
<h2 id="操作方式-root-wifi-connect-sh"><a href="#操作方式-root-wifi-connect-sh" class="headerlink" title="操作方式/root/wifi-connect.sh"></a>操作方式<code>/root/wifi-connect.sh</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/root/wifi-connect.sh</span><br><span class="line"></span><br><span class="line">Connect to wifi network wlan0: brcmfmac</span><br><span class="line">                                                                             </span><br><span class="line">1: CU_Jtyu</span><br><span class="line">2: DIRECT-519BC577</span><br><span class="line">3: DIRECT-49-HP Laser 136w</span><br><span class="line">4: Cloud-Bird</span><br><span class="line">5: kingdee</span><br><span class="line">6: Cloud-bird5G</span><br><span class="line">Choose wifi SSID: 6</span><br><span class="line">Please enter password/pre shared key for [Cloud-bird5G]:</span><br><span class="line">Trying to authenticate, please wait...</span><br><span class="line">auth ok</span><br><span class="line">Saving wifi config...</span><br><span class="line">Try getting ip from DHCP...</span><br><span class="line">Setting LLMNR support level &quot;yes&quot; for &quot;3&quot;, but the global support level is &quot;no&quot;.</span><br><span class="line"></span><br><span class="line">Ready. Wifi address: 192.168.0.196</span><br></pre></td></tr></table></figure>

<h1 id="Linux盒子配置一直亮屏-禁用锁屏和黑屏"><a href="#Linux盒子配置一直亮屏-禁用锁屏和黑屏" class="headerlink" title="Linux盒子配置一直亮屏(禁用锁屏和黑屏)"></a>Linux盒子配置一直亮屏(禁用锁屏和黑屏)</h1><p>在 Ubuntu 20.04 中，可以通过命令行禁用锁屏和黑屏功能。以下是具体步骤：</p>
<h3 id="手工操作禁用锁屏-黑屏命令行无效"><a href="#手工操作禁用锁屏-黑屏命令行无效" class="headerlink" title="手工操作禁用锁屏(黑屏命令行无效)"></a>手工操作禁用锁屏(黑屏命令行无效)</h3><p><img src="https://owen-chenao.github.io/images/Snipaste_2025-06-12_20-51-04.png"><br><img src="https://owen-chenao.github.io/images/Snipaste_2025-06-12_20-50-48.png"></p>
<h3 id="禁用锁屏"><a href="#禁用锁屏" class="headerlink" title="禁用锁屏"></a>禁用锁屏</h3><ol>
<li><p><strong>禁用屏幕保护程序和锁屏</strong>：</p>
<ul>
<li><p>打开终端（Terminal）。</p>
</li>
<li><p>输入以下命令来禁用屏幕保护程序和锁屏功能：</p>
</li>
</ul>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.desktop.screensaver lock-enabled <span class="literal">false</span></span><br><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.desktop.screensaver idle-activation-enabled <span class="literal">false</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.desktop.screensaver enabled <span class="literal">false</span></span><br><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type <span class="string">&#x27;off&#x27;</span></span><br><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.settings-daemon.plugins.power sleep-inactive-battery-type <span class="string">&#x27;off&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>第一个命令禁用了锁屏功能，第二个命令禁用了屏幕保护程序的自动激活。</li>
</ul>
<ol start="2">
<li><p><strong>禁用电源管理中的屏幕关闭</strong>：</p>
<ul>
<li>输入以下命令来禁用屏幕关闭：</li>
</ul>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type <span class="string">&#x27;nothing&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sudo</span> gsettings <span class="built_in">set</span> org.gnome.settings-daemon.plugins.power sleep-inactive-battery-type <span class="string">&#x27;nothing&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>这些命令分别设置了在连接电源适配器和使用电池时，系统不会自动关闭屏幕。</li>
</ul>
<h3 id="禁用黑屏"><a href="#禁用黑屏" class="headerlink" title="禁用黑屏"></a>禁用黑屏</h3><p>黑屏通常是由于屏幕保护程序或电源管理设置导致的。通过上述命令禁用了屏幕保护程序和电源管理中的屏幕关闭后，黑屏问题应该会得到解决。</p>
<h3 id="验证设置"><a href="#验证设置" class="headerlink" title="验证设置"></a>验证设置</h3><ul>
<li><p>你可以通过以下命令查看当前的设置是否生效：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gsettings get org.gnome.desktop.screensaver lock-enabled</span><br><span class="line">gsettings get org.gnome.desktop.screensaver idle-activation-enabled</span><br><span class="line">gsettings get org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type</span><br><span class="line">gsettings get org.gnome.settings-daemon.plugins.power sleep-inactive-battery-type</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果返回值为 <code>false</code> 或 <code>&#39;nothing&#39;</code>，说明设置已经生效。</p>
</li>
</ul>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>如果你使用的是其他桌面环境（如 KDE、XFCE 等），可能需要使用不同的命令或工具来调整这些设置。</li>
<li>如果你希望恢复默认设置，可以将上述命令中的 <code>false</code> 和 <code>&#39;nothing&#39;</code> 改为 <code>true</code> 或默认值。</li>
</ul>
<p>通过以上步骤，你应该可以在 Ubuntu 20.04 中通过命令行禁用锁屏和黑屏功能。</p>
<h1 id="Chrome日志存储过大22G-chromium-BrowserMetrics"><a href="#Chrome日志存储过大22G-chromium-BrowserMetrics" class="headerlink" title="Chrome日志存储过大22G chromium/BrowserMetrics "></a>Chrome日志存储过大22G <code>chromium/BrowserMetrics </code></h1><blockquote>
<p>&#x2F;root&#x2F;snap&#x2F;chromium&#x2F;common&#x2F;chromium&#x2F;BrowserMetrics 这个文件夹是什么东西，容量太大了</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">sudo find / -type f -exec du -h &#123;&#125; + 2&gt;/dev/null | sort -rh | head -n 20</span><br><span class="line">sudo du -ah /  | sort -rh | head -n 20</span><br><span class="line"></span><br><span class="line">30G	/</span><br><span class="line">22G	/root/snap/chromium/common/chromium/BrowserMetrics</span><br><span class="line">22G	/root/snap/chromium/common/chromium</span><br><span class="line">22G	/root/snap/chromium/common</span><br><span class="line">22G	/root/snap/chromium</span><br><span class="line">22G	/root/snap</span><br><span class="line">22G	/root</span><br><span class="line">3.4G	/usr</span><br><span class="line">2.8G	/snap</span><br><span class="line">2.0G	/var</span><br><span class="line">1.6G	/usr/share</span><br><span class="line">1.5G	/usr/lib</span><br><span class="line">1.4G	/var/lib</span><br><span class="line">1.2G	/var/lib/snapd</span><br><span class="line">1.2G	/snap/gnome-42-2204/201/usr</span><br><span class="line">1.2G	/snap/gnome-42-2204/201</span><br><span class="line">1.2G	/snap/gnome-42-2204</span><br><span class="line">1.1G	/usr/lib/aarch64-linux-gnu</span><br><span class="line">1016M	/var/lib/snapd/snaps</span><br><span class="line">961M	/snap/gnome-42-2204/201/usr/lib</span><br></pre></td></tr></table></figure>

<h2 id="解决办法chromium-BrowserMetrics"><a href="#解决办法chromium-BrowserMetrics" class="headerlink" title="解决办法chromium/BrowserMetrics "></a>解决办法<code>chromium/BrowserMetrics </code></h2><p><strong>—&gt;解决办法</strong></p>
<p>完全卸载snap安装的Chromium 应用，使用谷歌官方网站下载的浏览器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo snap remove --purge chromium </span><br><span class="line">sudo snap remove --purge chromium-browser</span><br><span class="line"></span><br><span class="line">#安装</span><br><span class="line">sudo wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span><br><span class="line">sudo dpkg -i google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure>

<blockquote>
<p>禁用更新</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo refresh chromium --unhold</span><br><span class="line">sudo snap set chromium refresh.metered=unhold</span><br><span class="line"></span><br><span class="line">sudo snap set system refresh.metered=hold</span><br><span class="line">sudo snap get system refresh.metered</span><br></pre></td></tr></table></figure>

<h5 id="1-更新到最新版本"><a href="#1-更新到最新版本" class="headerlink" title="1).更新到最新版本"></a>1).更新到最新版本</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snap refresh chromium</span><br></pre></td></tr></table></figure>

<h5 id="2-Disable-chromium更新"><a href="#2-Disable-chromium更新" class="headerlink" title="2).Disable chromium更新"></a>2).Disable chromium更新</h5><h5 id="2-1-第一种disable方式"><a href="#2-1-第一种disable方式" class="headerlink" title="2.1.第一种disable方式"></a>2.1.第一种disable方式</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.移除snap对chromium的自动更新。</span><br><span class="line"># snap refresh chromium --unhold</span><br><span class="line">Removed general refresh hold of chromium。</span><br><span class="line"> </span><br><span class="line">2.保持snap对chromium的自动更新</span><br><span class="line"># snap refresh chromium --hold</span><br><span class="line">General refreshes of &quot;chromium&quot; held indefinitely</span><br><span class="line"> </span><br><span class="line"># snap refresh --time</span><br><span class="line">timer: 00:00~24:00/4</span><br><span class="line">last: today at 21:26 CST</span><br><span class="line">next: tomorrow at 05:11 CST</span><br></pre></td></tr></table></figure>

<h5 id="2-2-第二种disable方式"><a href="#2-2-第二种disable方式" class="headerlink" title="2.2.第二种disable方式"></a>2.2.第二种disable方式</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.移除snap对chromium的自动更新。</span><br><span class="line"># sudo snap set chromium refresh.metered=unhold</span><br><span class="line"> </span><br><span class="line">2.保持snap对chromium的自动更新</span><br><span class="line"># sudo snap set chromium refresh.metered=hold</span><br></pre></td></tr></table></figure>

<h5 id="2-3-Disable-snap系统更新"><a href="#2-3-Disable-snap系统更新" class="headerlink" title="2.3.Disable snap系统更新"></a>2.3.Disable snap系统更新</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># sudo snap set system refresh.metered=hold</span><br><span class="line"># sudo snap get system refresh.metered</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/12/ARMBoxLinuxBox%E7%9B%92%E5%AD%90%E5%B7%A5%E6%8E%A7%E6%9C%BA/" data-id="cmbujeffg0000ju9ido78bq8c" data-title="ARMBoxLinuxBox盒子工控机" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Ubuntu系统初始化后配置清单ToDoList" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/10/Ubuntu%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%8E%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95ToDoList/" class="article-date">
  <time class="dt-published" datetime="2025-06-10T16:30:33.000Z" itemprop="datePublished">2025-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/10/Ubuntu%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%8E%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95ToDoList/">Ubuntu系统初始化后配置清单ToDoList</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ToDoList清单"><a href="#ToDoList清单" class="headerlink" title="ToDoList清单"></a>ToDoList清单</h2><table>
<thead>
<tr>
<th>–</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td>配置时区</td>
<td><code>sudo timedatectl set-timezone Asia/Shanghai &amp;&amp; sudo cat /etc/timezone</code></td>
</tr>
</tbody></table>
<h2 id="配置时区"><a href="#配置时区" class="headerlink" title="配置时区"></a>配置时区</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo timedatectl set-timezone Asia/Shanghai</span><br><span class="line">sudo cat /etc/timezone</span><br></pre></td></tr></table></figure>

<h2 id="配置Limit"><a href="#配置Limit" class="headerlink" title="配置Limit"></a>配置Limit</h2><p>编辑<code>/etc/security/limits.conf</code>文件，添加或修改相应的行来增加限制。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br><span class="line">* soft nofile 65535</span><br><span class="line">* hard nofile 65535</span><br></pre></td></tr></table></figure>

<h2 id="确保-IP-转发已启用"><a href="#确保-IP-转发已启用" class="headerlink" title="确保 IP 转发已启用"></a>确保 IP 转发已启用</h2><p>确保内核启用了 IP 转发功能。可以通过以下命令启用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure>

<p>为了使设置永久生效，可以编辑 <code>/etc/sysctl.conf</code> 文件，添加以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward = 1</span><br></pre></td></tr></table></figure>

<p>然后运行以下命令应用配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sysctl -p</span><br></pre></td></tr></table></figure>

<h3 id="增加sudo权限"><a href="#增加sudo权限" class="headerlink" title="增加sudo权限"></a>增加sudo权限</h3><p><code>sudo vim /etc/sudoers</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user ALL=(ALL:ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure>

<h3 id="配置高并发服务器调小TCP协议的time-wait时间"><a href="#配置高并发服务器调小TCP协议的time-wait时间" class="headerlink" title="配置高并发服务器调小TCP协议的time_wait时间"></a>配置高并发服务器调小TCP协议的time_wait时间</h3><blockquote>
<p>查看网络节点的tcp连接状态，如果发现系统存在大量的TIME_WAIT状态的连接，通过调整内核参数解决：<br>然后执行以下命令让参数生效： <code>sudo /sbin/sysctl -p</code></p>
</blockquote>
<h3 id="limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置"><a href="#limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置" class="headerlink" title="limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置"></a>limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置</h3><blockquote>
<p>linux下ulimit参数调整</p>
</blockquote>
<p><code>sudo vim /etc/security/limits.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br><span class="line">* soft nofile 65535</span><br><span class="line">* hard nofile 65535</span><br></pre></td></tr></table></figure>

<h3 id="临时配置"><a href="#临时配置" class="headerlink" title="临时配置"></a>临时配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ulimit -SHn 65536</span><br><span class="line">ulimit -n</span><br></pre></td></tr></table></figure>

<h3 id="limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置-1"><a href="#limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置-1" class="headerlink" title="limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置"></a>limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置</h3><h3 id="改变系统最大打开文件数，需要修改-etc-sysctl-conf-文件"><a href="#改变系统最大打开文件数，需要修改-etc-sysctl-conf-文件" class="headerlink" title="改变系统最大打开文件数，需要修改 /etc/sysctl.conf 文件"></a>改变系统最大打开文件数，需要修改 <code>/etc/sysctl.conf</code> 文件</h3><p><code>sudo vim /etc/sysctl.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.file-max = 1048576</span><br></pre></td></tr></table></figure>

<h3 id="设置服务最大文件句柄数"><a href="#设置服务最大文件句柄数" class="headerlink" title="设置服务最大文件句柄数:"></a>设置服务最大文件句柄数:</h3><p><code>sudo vim /etc/systemd/system.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DefaultLimitNOFILE=1048576</span><br></pre></td></tr></table></figure>

<h3 id="配置网络参数修改"><a href="#配置网络参数修改" class="headerlink" title="配置网络参数修改"></a>配置网络参数修改</h3><p><code>sudo vim /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=5sec</span><br></pre></td></tr></table></figure>

<h3 id="Linux-操作系统参数"><a href="#Linux-操作系统参数" class="headerlink" title="Linux 操作系统参数"></a>Linux 操作系统参数</h3><blockquote>
<p>系统全局允许分配的最大文件句柄数:<br>2 millions system-wide</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w fs.file-max=2097152</span><br><span class="line">sudo sysctl -w fs.nr_open=2097152</span><br><span class="line">sudo echo 2097152 &gt; /proc/sys/fs/nr_open</span><br></pre></td></tr></table></figure>

<h3 id="TCP-协议栈网络参数"><a href="#TCP-协议栈网络参数" class="headerlink" title="TCP 协议栈网络参数"></a>TCP 协议栈网络参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.core.somaxconn=32768</span><br><span class="line">sudo sysctl -w net.ipv4.tcp_max_syn_backlog=16384</span><br><span class="line">sudo sysctl -w net.core.netdev_max_backlog=16384</span><br></pre></td></tr></table></figure>

<h3 id="可用知名端口范围"><a href="#可用知名端口范围" class="headerlink" title="可用知名端口范围:"></a>可用知名端口范围:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.ipv4.ip_local_port_range=&#x27;1000 65535&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="TCP-Socket-读写-Buffer-设置"><a href="#TCP-Socket-读写-Buffer-设置" class="headerlink" title="TCP Socket 读写 Buffer 设置:"></a>TCP Socket 读写 Buffer 设置:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.core.rmem_default=262144</span><br><span class="line">sudo sysctl -w net.core.wmem_default=262144</span><br><span class="line">sudo sysctl -w net.core.rmem_max=16777216</span><br><span class="line">sudo sysctl -w net.core.wmem_max=16777216</span><br><span class="line">sudo sysctl -w net.core.optmem_max=16777216</span><br><span class="line"></span><br><span class="line">#sysctl -w net.ipv4.tcp_mem=&#x27;16777216 16777216 16777216&#x27;</span><br><span class="line">sudo sysctl -w net.ipv4.tcp_rmem=&#x27;1024 4096 16777216&#x27;</span><br><span class="line">sudo sysctl -w net.ipv4.tcp_wmem=&#x27;1024 4096 16777216&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="TCP-连接追踪设置"><a href="#TCP-连接追踪设置" class="headerlink" title="TCP 连接追踪设置"></a>TCP 连接追踪设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.nf_conntrack_max=1000000</span><br><span class="line">sudo sysctl -w net.netfilter.nf_conntrack_max=1000000</span><br><span class="line">sudo sysctl -w net.netfilter.nf_conntrack_tcp_timeout_time_wait=30</span><br></pre></td></tr></table></figure>

<h3 id="Failed-to-allocate-directory-watch-Too-many-open-files"><a href="#Failed-to-allocate-directory-watch-Too-many-open-files" class="headerlink" title="Failed to allocate directory watch: Too many open files"></a>Failed to allocate directory watch: Too many open files</h3><blockquote>
<p>解决办法：<br><code>vim /etc/sysctl.conf</code><br><code>sudo vim /etc/sysctl.conf</code></p>
</blockquote>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fs.file-max = 1048576</span><br><span class="line">fs.inotify.max_user_instances=25120</span><br><span class="line">fs.inotify.max_user_watches=262144</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="生效"><a href="#生效" class="headerlink" title="生效"></a>生效</h3><p><code>sudo sysctl -p</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/10/Ubuntu%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%8E%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95ToDoList/" data-id="cmbujeffm0002ju9i5lanhg6p" data-title="Ubuntu系统初始化后配置清单ToDoList" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Ubuntu-UTC修改时区时间的最好方法-timedatectl-set-timezone-Asia-Shanghai" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/06/Ubuntu-UTC%E4%BF%AE%E6%94%B9%E6%97%B6%E5%8C%BA%E6%97%B6%E9%97%B4%E7%9A%84%E6%9C%80%E5%A5%BD%E6%96%B9%E6%B3%95-timedatectl-set-timezone-Asia-Shanghai/" class="article-date">
  <time class="dt-published" datetime="2025-06-06T01:22:41.000Z" itemprop="datePublished">2025-06-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/06/Ubuntu-UTC%E4%BF%AE%E6%94%B9%E6%97%B6%E5%8C%BA%E6%97%B6%E9%97%B4%E7%9A%84%E6%9C%80%E5%A5%BD%E6%96%B9%E6%B3%95-timedatectl-set-timezone-Asia-Shanghai/">Ubuntu UTC &gt; CST修改时区时间的最好方法 timedatectl set-timezone Asia/Shanghai</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="UTC-CST"><a href="#UTC-CST" class="headerlink" title="UTC &gt; CST"></a>UTC &gt; CST</h1><h4 id="查看-etc-timezome-的內容"><a href="#查看-etc-timezome-的內容" class="headerlink" title="查看 /etc/timezome 的內容"></a>查看 <code>/etc/timezome</code> 的內容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cat /etc/timezone</span><br></pre></td></tr></table></figure>

<h4 id="用timedatectl-set-timezone-Asia-Shanghai-可以快速地更新时区和时间"><a href="#用timedatectl-set-timezone-Asia-Shanghai-可以快速地更新时区和时间" class="headerlink" title="用timedatectl set-timezone Asia&#x2F;Shanghai 可以快速地更新时区和时间"></a><strong>用timedatectl set-timezone Asia&#x2F;Shanghai 可以快速地更新时区和时间</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo timedatectl set-timezone Asia/Shanghai</span><br><span class="line">sudo timedatectl set-timezone Asia/Shanghai</span><br></pre></td></tr></table></figure>

<h4 id="使用-timedatectl-命令顯示當前的系統時區。"><a href="#使用-timedatectl-命令顯示當前的系統時區。" class="headerlink" title="使用 timedatectl 命令顯示當前的系統時區。"></a>使用 <code>timedatectl</code> 命令顯示當前的系統時區。</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl</span><br></pre></td></tr></table></figure>

<p>輸出畫面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> Local time: Fri 2021-01-07 22:45:47 UTC</span><br><span class="line">                Universal time: Fri 2021-01-07 22:45:47 UTC</span><br><span class="line">                      RTC time: Fri 2021-01-07 22:45:48</span><br><span class="line">                      Time zone: Etc/UTC (UTC, +0000)</span><br><span class="line">      System clock synchronized: yes</span><br><span class="line">systemd-timesyncd.service active: yes</span><br><span class="line">                RTC in local TZ: no</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/06/Ubuntu-UTC%E4%BF%AE%E6%94%B9%E6%97%B6%E5%8C%BA%E6%97%B6%E9%97%B4%E7%9A%84%E6%9C%80%E5%A5%BD%E6%96%B9%E6%B3%95-timedatectl-set-timezone-Asia-Shanghai/" data-id="cmbk5eezg000iooche8nb2iva" data-title="Ubuntu UTC &gt; CST修改时区时间的最好方法 timedatectl set-timezone Asia/Shanghai" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-250605-AngularJS-Button防止重复点击解决办法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/05/250605-AngularJS-Button%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2025-06-05T11:56:16.000Z" itemprop="datePublished">2025-06-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/05/250605-AngularJS-Button%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">250605-AngularJS-Button防止重复点击解决办法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="范式"><a href="#范式" class="headerlink" title="范式"></a>范式</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let isProcessing = false;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if (isProcessing) &#123;</span><br><span class="line">	return false; // 防止重复点击</span><br><span class="line">&#125;</span><br><span class="line">isProcessing = true;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 模拟异步操作完成后恢复按钮状态</span><br><span class="line">setTimeout(function() &#123;</span><br><span class="line">	isProcessing = false;</span><br><span class="line">&#125;, 2000);</span><br></pre></td></tr></table></figure>

<h1 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h1><blockquote>
<p>angularjs 能不能实现一个组件，放到所有的按钮上面，控制ng-click防重复提交策略</p>
</blockquote>
<p>在 AngularJS 中，可以通过创建一个自定义指令来实现一个通用的防重复点击组件，这个指令可以附加到任何按钮上，以控制 <code>ng-click</code><br>的防重复提交策略。</p>
<p>以下是一个完整的示例：</p>
<h3 id="1-创建防重复点击指令"><a href="#1-创建防重复点击指令" class="headerlink" title="1. 创建防重复点击指令"></a>1. 创建防重复点击指令</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 增加按钮防重复点击组件</span></span><br><span class="line">app.<span class="title function_">directive</span>(<span class="string">&#x27;preventRepeatedClick&#x27;</span>, <span class="keyword">function</span> (<span class="params">$parse, $timeout</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">restrict</span>: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">        <span class="attr">priority</span>: <span class="number">1000</span>, <span class="comment">// 确保指令在ngClick之后执行</span></span><br><span class="line">        <span class="attr">scope</span>: &#123;</span><br><span class="line">            <span class="attr">clickDelay</span>: <span class="string">&#x27;@&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">link</span>: <span class="keyword">function</span> (<span class="params">scope, element, attrs</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> isProcessing = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> delay = <span class="built_in">parseInt</span>(attrs.<span class="property">clickDelay</span>) || <span class="number">2000</span>; <span class="comment">// 默认延迟 2000 毫秒</span></span><br><span class="line">            delay = (delay &gt;= <span class="number">2000</span>) ? delay : <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line">            element.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">                <span class="comment">// 如果正在处理事件，直接返回，防止重复点击</span></span><br><span class="line">                <span class="keyword">if</span> (isProcessing) &#123;</span><br><span class="line">                    event.<span class="title function_">preventDefault</span>();</span><br><span class="line">                    event.<span class="title function_">stopPropagation</span>();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 禁用按钮，防止重复点击</span></span><br><span class="line">                isProcessing = <span class="literal">true</span>;</span><br><span class="line">                element.<span class="title function_">attr</span>(<span class="string">&#x27;disabled&#x27;</span>, <span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 延迟后启用按钮</span></span><br><span class="line">                $timeout(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    isProcessing = <span class="literal">false</span>;</span><br><span class="line">                    element.<span class="title function_">removeAttr</span>(<span class="string">&#x27;disabled&#x27;</span>);</span><br><span class="line">                &#125;, delay);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2-使用自定义指令"><a href="#2-使用自定义指令" class="headerlink" title="2. 使用自定义指令"></a>2. 使用自定义指令</h3><p>在 HTML 中，将 <code>prevent-repeated-click</code> 指令附加到按钮上，并可选地指定 <code>click-delay</code> 属性来设置按钮禁用的时间（以毫秒为单位）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">&quot;myApp&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>AngularJS 防重复点击指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;app.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">&quot;myCtrl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">prevent-repeated-click</span> <span class="attr">click-delay</span>=<span class="string">&quot;2000&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;buttonClick()&quot;</span>&gt;</span>点击我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-控制器逻辑"><a href="#3-控制器逻辑" class="headerlink" title="3. 控制器逻辑"></a>3. 控制器逻辑</h3><p>在控制器中定义按钮的点击处理函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">controller</span>(<span class="string">&#x27;myCtrl&#x27;</span>, <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">    $scope.<span class="property">message</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    $scope.<span class="property">buttonClick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;按钮被点击了&#x27;</span>);</span><br><span class="line">        $scope.<span class="property">message</span> = <span class="string">&#x27;按钮被点击，正在处理...&#x27;</span>;</span><br><span class="line">        <span class="comment">// 模拟处理逻辑</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            $scope.<span class="property">message</span> = <span class="string">&#x27;处理完成&#x27;</span>;</span><br><span class="line">            $scope.$apply(); <span class="comment">// 触发 AngularJS 的 digest 循环</span></span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><ol>
<li>**自定义指令 <code>preventRepeatedClick</code>**：<ul>
<li>**<code>restrict: &#39;A&#39;</code>**：指定该指令为属性类型。</li>
<li>**<code>scope</code>**：定义指令的隔离作用域，<code>ngClick</code> 用于绑定按钮的点击事件，<code>clickDelay</code> 用于设置按钮禁用的时间。</li>
<li><strong><code>link</code> 函数</strong>：在指令的链接函数中，监听按钮的点击事件。<ul>
<li>**<code>isProcessing</code>**：标记按钮是否正在处理事件。</li>
<li>**<code>delay</code>**：从 <code>click-delay</code> 属性获取按钮禁用的时间，如果没有指定则使用默认值 2000 毫秒。</li>
<li><strong>禁用按钮</strong>：在点击事件发生时，如果 <code>isProcessing</code> 为 <code>true</code>，阻止事件的默认行为并返回，防止重复点击。否则，将<br><code>isProcessing</code> 设置为 <code>true</code> 并禁用按钮。</li>
<li>**触发 <code>ng-click</code>**：调用绑定的 <code>ngClick</code> 函数。</li>
<li><strong>延迟启用按钮</strong>：使用 <code>$timeout</code> 在指定的延迟时间后将 <code>isProcessing</code> 设置为 <code>false</code> 并启用按钮。</li>
</ul>
</li>
</ul>
</li>
<li><strong>使用指令</strong>：<ul>
<li>在按钮上添加 <code>prevent-repeated-click</code> 指令，并可选地使用 <code>click-delay</code> 属性来指定按钮禁用的时间。</li>
<li>绑定 <code>ng-click</code> 到按钮的点击处理函数。</li>
</ul>
</li>
<li><strong>控制器逻辑</strong>：<ul>
<li>定义按钮的点击处理函数 <code>buttonClick</code>，在其中执行相关的业务逻辑。</li>
</ul>
</li>
</ol>
<p>通过这种方式，你可以将 <code>prevent-repeated-click</code> 指令附加到任何按钮上，以实现防重复点击的功能，而无需在每个按钮的控制器中重复编写相同的逻辑。</p>
<h1 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h1><p>AngularJS 的双向数据绑定来实现。以下是一个示例：</p>
<ol>
<li><strong>HTML 部分</strong>：使用 <code>ng-disabled</code> 指令来绑定按钮的禁用状态。</li>
<li><strong>JavaScript 部分</strong>：在控制器中定义一个变量来控制按钮的禁用状态，并在事件处理函数中修改这个变量。</li>
</ol>
<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ng-app=&quot;myApp&quot;&gt;</span><br><span class="line">  &lt;div ng-controller=&quot;myCtrl&quot;&gt;</span><br><span class="line">    &lt;button ng-click=&quot;buttonClick($event)&quot; ng-disabled=&quot;isDisabled&quot;&gt;点击我&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var app = angular.module(&#x27;myApp&#x27;, []);</span><br><span class="line">app.controller(&#x27;myCtrl&#x27;, function($scope) &#123;</span><br><span class="line">  // 初始化按钮禁用状态为 false</span><br><span class="line">  $scope.isDisabled = false;</span><br><span class="line"></span><br><span class="line">  $scope.buttonClick = function($event) &#123;</span><br><span class="line">    console.log(&#x27;按钮被点击了&#x27;);</span><br><span class="line">    // 修改按钮的禁用状态</span><br><span class="line">    $scope.isDisabled = !$scope.isDisabled;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了 <code>ng-disabled</code> 指令来绑定按钮的禁用状态到 <code>$scope.isDisabled</code> 变量。当点击按钮时，<code>buttonClick</code><br>函数会被调用，它会切换 <code>$scope.isDisabled</code> 的值，从而改变按钮的禁用状态。</p>
<ul>
<li>初始状态下，<code>$scope.isDisabled</code> 为 <code>false</code>，按钮是启用状态。</li>
<li>当按钮被点击时，<code>buttonClick</code> 函数将 <code>$scope.isDisabled</code> 设置为 <code>true</code>，按钮变为禁用状态。</li>
<li>再次点击按钮时，<code>buttonClick</code> 函数将 <code>$scope.isDisabled</code> 设置为 <code>false</code>，按钮恢复启用状态。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/05/250605-AngularJS-Button%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" data-id="cmbk5eeza0004oochgkbodpza" data-title="250605-AngularJS-Button防止重复点击解决办法" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Ubuntu服务器参数优化" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/04/Ubuntu%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96/" class="article-date">
  <time class="dt-published" datetime="2025-06-04T16:30:02.000Z" itemprop="datePublished">2025-06-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/04/Ubuntu%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96/">Ubuntu服务器参数优化</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="确保-IP-转发已启用"><a href="#确保-IP-转发已启用" class="headerlink" title="确保 IP 转发已启用"></a>确保 IP 转发已启用</h1><p>确保内核启用了 IP 转发功能。可以通过以下命令启用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure>

<p>为了使设置永久生效，可以编辑 <code>/etc/sysctl.conf</code> 文件，添加以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward = 1</span><br></pre></td></tr></table></figure>

<p>然后运行以下命令应用配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sysctl -p</span><br></pre></td></tr></table></figure>

<h3 id="增加sudo权限"><a href="#增加sudo权限" class="headerlink" title="增加sudo权限"></a>增加sudo权限</h3><p><code>sudo vim /etc/sudoers</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user ALL=(ALL:ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure>

<h3 id="配置高并发服务器调小TCP协议的time-wait时间"><a href="#配置高并发服务器调小TCP协议的time-wait时间" class="headerlink" title="配置高并发服务器调小TCP协议的time_wait时间"></a>配置高并发服务器调小TCP协议的time_wait时间</h3><blockquote>
<p>查看网络节点的tcp连接状态，如果发现系统存在大量的TIME_WAIT状态的连接，通过调整内核参数解决：<br>然后执行以下命令让参数生效： <code>sudo /sbin/sysctl -p</code></p>
</blockquote>
<h3 id="limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置"><a href="#limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置" class="headerlink" title="limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置"></a>limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置</h3><blockquote>
<p>linux下ulimit参数调整</p>
</blockquote>
<p><code>sudo vim /etc/security/limits.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br><span class="line">* soft nofile 65535</span><br><span class="line">* hard nofile 65535</span><br></pre></td></tr></table></figure>

<h3 id="临时配置"><a href="#临时配置" class="headerlink" title="临时配置"></a>临时配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ulimit -SHn 65536</span><br><span class="line">ulimit -n</span><br></pre></td></tr></table></figure>

<h3 id="limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置-1"><a href="#limits-conf-和sysctl-conf区别在于limits-conf是针对用户，而sysctl-conf是针对整个系统参数配置-1" class="headerlink" title="limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置"></a>limits.conf 和sysctl.conf区别在于limits.conf是针对用户，而sysctl.conf是针对整个系统参数配置</h3><h3 id="改变系统最大打开文件数，需要修改-etc-sysctl-conf-文件"><a href="#改变系统最大打开文件数，需要修改-etc-sysctl-conf-文件" class="headerlink" title="改变系统最大打开文件数，需要修改 /etc/sysctl.conf 文件"></a>改变系统最大打开文件数，需要修改 <code>/etc/sysctl.conf</code> 文件</h3><p><code>sudo vim /etc/sysctl.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.file-max = 1048576</span><br></pre></td></tr></table></figure>

<h3 id="设置服务最大文件句柄数"><a href="#设置服务最大文件句柄数" class="headerlink" title="设置服务最大文件句柄数:"></a>设置服务最大文件句柄数:</h3><p><code>sudo vim /etc/systemd/system.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DefaultLimitNOFILE=1048576</span><br></pre></td></tr></table></figure>

<h3 id="配置网络参数修改"><a href="#配置网络参数修改" class="headerlink" title="配置网络参数修改"></a>配置网络参数修改</h3><p><code>sudo vim /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=5sec</span><br></pre></td></tr></table></figure>

<h3 id="Linux-操作系统参数"><a href="#Linux-操作系统参数" class="headerlink" title="Linux 操作系统参数"></a>Linux 操作系统参数</h3><blockquote>
<p>系统全局允许分配的最大文件句柄数:<br>2 millions system-wide</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w fs.file-max=2097152</span><br><span class="line">sudo sysctl -w fs.nr_open=2097152</span><br><span class="line">sudo echo 2097152 &gt; /proc/sys/fs/nr_open</span><br></pre></td></tr></table></figure>

<h3 id="TCP-协议栈网络参数"><a href="#TCP-协议栈网络参数" class="headerlink" title="TCP 协议栈网络参数"></a>TCP 协议栈网络参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.core.somaxconn=32768</span><br><span class="line">sudo sysctl -w net.ipv4.tcp_max_syn_backlog=16384</span><br><span class="line">sudo sysctl -w net.core.netdev_max_backlog=16384</span><br></pre></td></tr></table></figure>

<h3 id="可用知名端口范围"><a href="#可用知名端口范围" class="headerlink" title="可用知名端口范围:"></a>可用知名端口范围:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.ipv4.ip_local_port_range=&#x27;1000 65535&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="TCP-Socket-读写-Buffer-设置"><a href="#TCP-Socket-读写-Buffer-设置" class="headerlink" title="TCP Socket 读写 Buffer 设置:"></a>TCP Socket 读写 Buffer 设置:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.core.rmem_default=262144</span><br><span class="line">sudo sysctl -w net.core.wmem_default=262144</span><br><span class="line">sudo sysctl -w net.core.rmem_max=16777216</span><br><span class="line">sudo sysctl -w net.core.wmem_max=16777216</span><br><span class="line">sudo sysctl -w net.core.optmem_max=16777216</span><br><span class="line"></span><br><span class="line">#sysctl -w net.ipv4.tcp_mem=&#x27;16777216 16777216 16777216&#x27;</span><br><span class="line">sudo sysctl -w net.ipv4.tcp_rmem=&#x27;1024 4096 16777216&#x27;</span><br><span class="line">sudo sysctl -w net.ipv4.tcp_wmem=&#x27;1024 4096 16777216&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="TCP-连接追踪设置"><a href="#TCP-连接追踪设置" class="headerlink" title="TCP 连接追踪设置"></a>TCP 连接追踪设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w net.nf_conntrack_max=1000000</span><br><span class="line">sudo sysctl -w net.netfilter.nf_conntrack_max=1000000</span><br><span class="line">sudo sysctl -w net.netfilter.nf_conntrack_tcp_timeout_time_wait=30</span><br></pre></td></tr></table></figure>

<h3 id="Failed-to-allocate-directory-watch-Too-many-open-files"><a href="#Failed-to-allocate-directory-watch-Too-many-open-files" class="headerlink" title="Failed to allocate directory watch: Too many open files"></a>Failed to allocate directory watch: Too many open files</h3><blockquote>
<p>解决办法：<br><code>vim /etc/sysctl.conf</code><br><code>sudo vim /etc/sysctl.conf</code></p>
</blockquote>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fs.file-max = 1048576</span><br><span class="line">fs.inotify.max_user_instances=25120</span><br><span class="line">fs.inotify.max_user_watches=262144</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="生效"><a href="#生效" class="headerlink" title="生效"></a>生效</h3><p><code>sudo sysctl -p</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/04/Ubuntu%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96/" data-id="cmbk5eezg000gooch1b9q5179" data-title="Ubuntu服务器参数优化" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Linux-Too-many-open-files-异常解决" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/04/Linux-Too-many-open-files-%E5%BC%82%E5%B8%B8%E8%A7%A3%E5%86%B3/" class="article-date">
  <time class="dt-published" datetime="2025-06-04T03:14:41.000Z" itemprop="datePublished">2025-06-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/04/Linux-Too-many-open-files-%E5%BC%82%E5%B8%B8%E8%A7%A3%E5%86%B3/">Linux Too many open files 异常解决</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>编辑<code>/etc/security/limits.conf</code>文件，添加或修改相应的行来增加限制。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br><span class="line">* soft nofile 65535</span><br><span class="line">* hard nofile 65535</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="https://owen-chenao.github.io/2025/06/04/Linux-Too-many-open-files-%E5%BC%82%E5%B8%B8%E8%A7%A3%E5%86%B3/" data-id="cmbk5eezd000booch6fwldozw" data-title="Linux Too many open files 异常解决" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">五月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/06/13/%E5%9C%A8Win11%E4%B8%8A%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85-NET-Framework-3-5%E7%9A%84%E6%96%B9%E6%B3%95/">在Win11上离线安装 .NET Framework 3.5的方法</a>
          </li>
        
          <li>
            <a href="/2025/06/13/Windows%E5%AE%89%E8%A3%85SSH-Win32-OpenSSH/">Windows安装SSH-Win32-OpenSSH</a>
          </li>
        
          <li>
            <a href="/2025/06/13/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2025/06/12/OPCDA%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%8E%A5%E6%A2%B3%E7%90%86/">OPCDA协议对接梳理</a>
          </li>
        
          <li>
            <a href="/2025/06/12/ARMBoxLinuxBox%E7%9B%92%E5%AD%90%E5%B7%A5%E6%8E%A7%E6%9C%BA/">ARMBoxLinuxBox盒子工控机</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Owen.Chen<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>